import{d as t,j as d,B as D,x as F,a6 as ue,R as De,r as $,a7 as Le,n as Te,a8 as pe,a9 as Be,c as w,g as z,aa as $e,ab as Fe,Q,ac as Ae,ad as he,ae as V,W as me,i as X,P as ze,F as j,af as Me,ag as Re,ah as Z,ai as R,U as Ie,aj as ye,ak as J,al as ee,am as Oe,an as Ue,u as te,ao as Ee,ap as qe,S as G,aq as He,ar as _e,C as Ke,as as je,at as Ge,au as We,av as Ye}from"./index-41a412db.js";import{C as fe,B as oe}from"./BaseModal-28ad3e72.js";import{F as Ze,p as Qe,A as Ve,I as Xe}from"./Fab-cfe32548.js";import{R as Je,T as et}from"./TextFitler-02b10732.js";import{f as tt}from"./index-e0d45f5a.js";import{R as ot}from"./rotate-cw-8148c71c.js";import{S as nt}from"./Select-86b37616.js";import"./debounce-c1ba2006.js";import"./index-33b41d47.js";const rt="_FlexCenter_1380a_1",st={FlexCenter:rt};function at({children:e}){return t("div",{className:st.FlexCenter,children:e})}const{useRef:ne,useEffect:lt}=F;function ct({onClickPrimaryButton:e,onClickSecondaryButton:o}){const n=ne(null),r=ne(null);return lt(()=>{n.current.focus()},[]),d("div",{onKeyDown:a=>{a.keyCode===39?r.current.focus():a.keyCode===37&&n.current.focus()},children:[t("h2",{children:"Close Connections?"}),t("p",{children:"Click 'Yes' to close those connections that are still using the old selected proxy in this group"}),t("div",{style:{height:30}}),d(at,{children:[t(D,{onClick:e,ref:n,children:"Yes"}),t("div",{style:{width:20}}),t(D,{onClick:o,ref:r,children:"No"})]})]})}const{memo:it}=De,dt={initialOpen:{height:"auto",opacity:1,visibility:"visible",transition:{duration:0}},open:{height:"auto",opacity:1,visibility:"visible",transition:{duration:.3}},closed:{height:0,opacity:0,visibility:"hidden",overflowY:"hidden",transition:{duration:.3}}},q=it(({children:e,isOpen:o})=>{const r=ue.read().motion;return t(r.div,{initial:o?"initialOpen":"closed",animate:o?"open":"closed",variants:dt,style:{overflow:"hidden"},children:e})}),ut="_header_1io4t_1",pt="_arrow_1io4t_10",ht="_isOpen_1io4t_15",mt="_btn_1io4t_22",yt="_qty_1io4t_27",re={header:ut,arrow:pt,isOpen:ht,btn:mt,qty:yt};function be({name:e,type:o,toggle:n,qty:r}){const s=$.useCallback(a=>{a.preventDefault(),(a.key==="Enter"||a.key===" ")&&n()},[n]);return d("div",{className:re.header,onClick:n,style:{cursor:"pointer"},tabIndex:0,onKeyDown:s,role:"button",children:[t("div",{children:t(Le,{name:e,type:o})}),typeof r=="number"?t("span",{className:re.qty,children:r}):null]})}const{useMemo:_t}=F;function ft(e,o){return e.filter(n=>{const r=o[n];return r===void 0?!0:r.number!==0})}const I=(e,o)=>{if(e&&typeof e.number=="number"&&e.number>0)return e.number;const n=o&&o.type;return n&&Be.indexOf(n)>-1?-1:999999},bt={Natural:e=>e,LatencyAsc:(e,o,n)=>e.sort((r,s)=>{const a=I(o[r],n&&n[r]),l=I(o[s],n&&n[s]);return a-l}),LatencyDesc:(e,o,n)=>e.sort((r,s)=>{const a=I(o[r],n&&n[r]);return I(o[s],n&&n[s])-a}),NameAsc:e=>e.sort(),NameDesc:e=>e.sort((o,n)=>o>n?-1:o<n?1:0)};function gt(e,o){const n=o.toLowerCase().split(" ").map(r=>r.trim()).filter(r=>!!r);return n.length===0?e:e.filter(r=>{let s=0;for(;s<n.length;s++){const a=n[s];if(r.toLowerCase().indexOf(a)>-1)return!0}return!1})}function vt(e,o,n,r,s,a){let l=[...e];return n&&(l=ft(e,o)),typeof r=="string"&&r!==""&&(l=gt(l,r)),bt[s](l,o,a)}function ge(e,o,n,r,s){const[a]=Te(pe);return _t(()=>vt(e,o,n,a,r,s),[e,o,n,a,r,s])}const xt="_header_8grjo_1",Ct="_group_8grjo_5",wt="_zapWrapper_8grjo_17",kt="_arrow_8grjo_25",Pt="_isOpen_8grjo_30",Nt="_groupHeader_8grjo_37",St="_btnGroup_8grjo_43",S={header:xt,group:Ct,zapWrapper:wt,arrow:kt,isOpen:Pt,groupHeader:Nt,btnGroup:St},ve={Right:39,Left:37,Enter:13,Space:32},Dt="_proxy_coape_4",Lt="_now_coape_33",Tt="_error_coape_38",Bt="_selectable_coape_41",$t="_proxyType_coape_49",Ft="_udpType_coape_65",At="_tfoType_coape_81",zt="_row_coape_85",Mt="_proxyName_coape_93",Rt="_proxySmall_coape_104",C={proxy:Dt,now:Lt,error:Tt,selectable:Bt,proxyType:$t,udpType:Ft,tfoType:At,row:zt,proxyName:Mt,proxySmall:Rt},It="_proxyLatency_1t6dc_4",Ot="_clickable_1t6dc_28",Ut="_placeholder_1t6dc_39",Et="_testing_1t6dc_43",qt="_proxyLatencyPulse_1t6dc_1",O={proxyLatency:It,clickable:Ot,placeholder:Ut,testing:Et,proxyLatencyPulse:qt};function Ht({number:e,color:o,isTesting:n,error:r,onClick:s}){const a=typeof e=="number",l=n?"Testing...":a?`${e} ms`:r||"--",c=w(O.proxyLatency,{[O.clickable]:Boolean(s),[O.placeholder]:!a||Boolean(r),[O.testing]:n}),u=$.useCallback(i=>{!s||n||(i.preventDefault(),i.stopPropagation(),s())},[n,s]),f=$.useCallback(i=>{!s||n||(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),i.stopPropagation(),s())},[n,s]);return t("span",{className:c,style:{color:a?o:void 0},role:s?"button":void 0,tabIndex:s?0:void 0,onClick:u,onKeyDown:f,title:l,children:t("span",{children:l})})}const{useMemo:H}=F,M={good:"#67c23a",normal:"#d4b75c",bad:"#e67f3c",na:"#909399"};function xe({number:e}={},o){const n={good:o?800:200,normal:o?1500:500};return e===0?M.na:e<n.good?M.good:e<n.normal?M.normal:typeof e=="number"?M.bad:M.na}function Kt(e,o){return xe(e,o)}function jt({now:e,name:o,proxy:n,latency:r,httpsLatencyTest:s,isSelectable:a,onClick:l}){var y;const c=(y=n.history[n.history.length-1])==null?void 0:y.delay,u=(r==null?void 0:r.number)??c,f=H(()=>Kt({number:u},s),[u,s]),i=H(()=>{let _=o;return r&&typeof r.number=="number"&&(_+=" "+r.number+" ms"),_},[o,r]),m=$.useCallback(()=>{a&&l&&l(o)},[o,l,a]),x=$.useCallback(_=>{_.keyCode===ve.Enter&&m()},[m]);return t("div",{title:i,className:w(C.proxySmall,{[C.selectable]:a}),style:{background:f,scale:e?"1.2":"1"},onClick:m,onKeyDown:x,role:a?"menuitem":"",children:e&&t("div",{className:C.now})})}function Gt(e){return e==="Shadowsocks"?"SS":e}const Wt=e=>({left:e.left+window.scrollX-5,top:e.top+window.scrollY-38});function Yt({children:e,label:o,"aria-label":n}){const[r,s]=Fe();return d(Q,{children:[$.cloneElement(e,r),t(Ae,{...s,label:o,"aria-label":n,position:Wt})]})}function Zt({now:e,name:o,proxy:n,latency:r,httpsLatencyTest:s,isSelectable:a,onClick:l,apiConfig:c,dispatch:u}){var T;const f=(T=n.history[n.history.length-1])==null?void 0:T.delay,i=typeof(r==null?void 0:r.number)=="number"?r.number:typeof f=="number"?f:void 0,m=typeof i=="number"&&i>0,x=H(()=>xe({number:m?i:void 0},s),[m,i,s]),y=Boolean(r==null?void 0:r.testing),_=$.useCallback(()=>{a&&l&&l(o)},[o,l,a]);function P(p,b){return p?b?"XUDP":"UDP":""}function N(p){return p?t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2962",width:"10",height:"10",children:t("path",{d:"M648.093513 719.209284l-1.492609-40.940127 31.046263-26.739021c202.73892-174.805813 284.022131-385.860697 255.70521-561.306199-176.938111-28.786027-389.698834 51.857494-563.907604 254.511123l-26.31256 30.619803-40.38573-0.938211c-60.557271-1.407317-111.903014 12.79379-162.822297 47.0385l189.561318 127.084977-37.95491 68.489421c-9.126237 16.461343-0.554398 53.307457 29.084549 82.818465 29.5963 29.511008 67.380626 38.381369 83.287571 29.852176l68.318836-36.760822 127.639376 191.267156c36.163779-52.11337 50.450177-103.629696 48.189941-165.039887zM994.336107 16.105249l10.490908 2.686696 2.64405 10.405615c47.46496 178.089552-1.023503 451.492838-274.170913 686.898568 4.051367 111.263324-35.396151 200.222809-127.255561 291.741051l-15.779008 15.693715-145.934494-218.731157c-51.217805 27.59194-128.790816 10.405616-183.93205-44.522388-55.226525-55.013296-72.41285-132.287785-43.498885-184.529093L0.002773 430.325513l15.736362-15.65107c89.300652-88.959484 178.64395-128.108481 289.011709-125.549722C539.730114 15.806727 815.56422-31.061189 994.336107 16.105249zM214.93844 805.098259c28.572797 28.572797 22.346486 79.49208-12.537914 114.376479C156.428175 965.489735 34.034254 986.002445 34.034254 986.002445s25.331704-127.084978 66.612998-168.323627c34.8844-34.8844 85.633099-41.281295 114.291188-12.580559zM661.01524 298.549479a63.968948 63.968948 0 1 0 0 127.937897 63.968948 63.968948 0 0 0 0-127.937897z","p-id":"2963"})}):""}const L=$.useCallback(p=>{p.keyCode===ve.Enter&&_()},[_]),k=H(()=>w(C.proxy,{[C.now]:e,[C.error]:r&&r.error,[C.selectable]:a}),[a,e,r]),A=$.useCallback(()=>{y||u($e(c,o))},[c,u,y,o]);return d("div",{tabIndex:0,className:k,onClick:_,onKeyDown:L,role:a?"menuitem":"",children:[d("div",{className:w(C.proxyName,C.row),children:[t(Yt,{label:o,"aria-label":`proxy name: ${o}`,children:t("span",{children:o})}),t("span",{className:C.udpType,style:{paddingLeft:4},children:P(n.udp,n.xudp)})]}),d("div",{className:C.row,children:[d("div",{className:C.row,children:[t("span",{className:C.proxyType,style:{paddingRight:4},children:Gt(n.type)}),N(n.tfo)]}),t(Ht,{number:m?i:void 0,color:x,isTesting:y,error:r==null?void 0:r.error,onClick:A})]})]})}function Ce(e,o,n,r=new Set){var c,u;if(r.has(n))return;r.add(n);const s=o[n];if(s&&(s.testing||typeof s.number=="number"||s.error))return s;const a=e[n];if(a&&a.now&&e[a.now])return Ce(e,o,a.now,r);const l=(u=(c=a==null?void 0:a.history)==null?void 0:c[a.history.length-1])==null?void 0:u.delay;return typeof l=="number"&&l>0?{number:l}:s}const we=(e,{name:o})=>{const n=he(e),r=V(e),s=me(e);return{proxy:n[o]||{name:o,history:[]},latency:Ce(n,r,o),httpsLatencyTest:s.startsWith("https://"),apiConfig:X(e)}},Qt=z(we)(Zt),Vt=z(we)(jt),Xt="_list_4awfc_4",Jt="_detail_4awfc_10",eo="_summary_4awfc_19",K={list:Xt,detail:Jt,summary:eo};function ke({all:e,now:o,isSelectable:n,itemOnTapCallback:r}){const s=e;return t("div",{className:w(K.list,K.detail),children:s.map(a=>t(Qt,{onClick:r,isSelectable:n,name:a,now:a===o},a))})}function Pe({all:e,now:o,isSelectable:n,itemOnTapCallback:r}){return t("div",{className:w(K.list,K.summary),children:e.map(s=>t(Vt,{onClick:r,isSelectable:n,name:s,now:s===o},s))})}const{useCallback:W,useMemo:to,useState:oo}=F;function no(){return t("div",{className:S.zapWrapper,children:t(R,{size:16})})}function ro({name:e,all:o,delay:n,hideUnavailableProxies:r,proxySortBy:s,proxies:a,type:l,now:c,isOpen:u,latencyTestUrl:f,apiConfig:i,dispatch:m}){const x=ge(o,n,r,s,a),{data:y}=ze(["/version",i],()=>Ie("/version",i)),_=to(()=>["Selector",y.meta&&"Fallback",y.meta&&"URLTest"].includes(l),[l,y.meta]),{app:{updateCollapsibleIsOpen:P},proxies:{requestDelayForProxies:N}}=j(),L=W(()=>{P("proxyGroup",e,!u)},[u,P,e]),k=W(b=>{_&&m(Me(i,e,b))},[i,m,e,_]),[A,T]=oo(!1),p=W(async()=>{T(!0);try{y.meta===!0?(await Re(i,e,f),await m(Z(i))):(await N(i,x),await m(Z(i)))}catch{}T(!1)},[x,i,m,e,y.meta,f,N]);return d("div",{className:S.group,children:[d("div",{className:S.groupHeader,children:[t(be,{name:e,type:l,toggle:L,qty:x.length}),d("div",{className:S.btnGroup,children:[t(D,{kind:"minimal",onClick:L,className:S.btn,title:"Toggle collapsible section",children:t("span",{className:w(S.arrow,{[S.isOpen]:u}),children:t(fe,{size:20})})}),t(D,{title:"Test latency",kind:"minimal",onClick:p,isLoading:A,children:t(no,{})})]})]}),t(q,{isOpen:u,children:t(ke,{all:x,now:c,isSelectable:_,itemOnTapCallback:k})}),t(q,{isOpen:!u,children:t(Pe,{all:x,now:c,isSelectable:_,itemOnTapCallback:k})})]})}const so=z((e,{name:o,delay:n})=>{const r=he(e),s=ye(e),a=J(e),l=ee(e),c=me(e),u=r[o],{all:f,type:i,now:m}=u;return{all:f,delay:n,hideUnavailableProxies:l,proxySortBy:a,proxies:r,type:i,now:m,isOpen:s[`proxyGroup:${o}`],latencyTestUrl:c}})(ro),{useCallback:Ne,useState:ao}=F;function lo({dispatch:e,apiConfig:o,name:n}){return Ne(()=>e(Oe(o,n)),[o,e,n])}function co({dispatch:e,apiConfig:o,names:n}){const[r,s]=ao(!1);return[Ne(async()=>{if(!r){s(!0);try{await e(Ue(o,n))}catch{}s(!1)}},[o,e,n,r]),r]}const{useState:io,useCallback:uo}=F;function po({isLoading:e}){return e?t(Xe,{children:t(R,{width:16,height:16})}):t(R,{width:16,height:16})}function ho({dispatch:e,apiConfig:o}){const[n,r]=io(!1);return[uo(()=>{n||(r(!0),e(Ee(o)).then(()=>r(!1),()=>r(!1)))},[o,e,n]),n]}function mo({dispatch:e,apiConfig:o,proxyProviders:n}){const{t:r}=te(),[s,a]=ho({dispatch:e,apiConfig:o}),[l,c]=co({apiConfig:o,dispatch:e,names:n.map(u=>u.name)});return t(Ze,{icon:t(po,{isLoading:a}),onClick:s,text:r("Test Latency"),style:Qe,children:n.length>0?t(Ve,{text:r("update_all_proxy_provider"),onClick:l,children:t(Je,{isRotating:c})}):null})}const yo="_updatedAt_zociq_4",_o="_body_zociq_12",fo="_actionFooter_zociq_30",bo="_refresh_zociq_40",E={updatedAt:yo,body:_o,actionFooter:fo,refresh:bo},{useState:go,useCallback:se}=F;function vo({name:e,proxies:o,delay:n,hideUnavailableProxies:r,proxySortBy:s,vehicleType:a,updatedAt:l,subscriptionInfo:c,isOpen:u,dispatch:f,apiConfig:i}){const m=ge(o,n,r,s),[x,y]=go(!1),_=lo({dispatch:f,apiConfig:i,name:e}),P=se(async()=>{y(!0),await f(qe(i,e)),y(!1)},[i,f,e,y]),{app:{updateCollapsibleIsOpen:N}}=j(),L=se(()=>{N("proxyProvider",e,!u)},[u,N,e]),k=tt(new Date(l),new Date),A=c?ae(c.Total):0,T=c?ae(c.Download+c.Upload):0,p=c?((c.Download+c.Upload)/c.Total*100).toFixed(2):0,b=()=>{if(c.Expire===0)return"Null";const h=new Date(c.Expire*1e3),v=h.getFullYear()+"-",B=(h.getMonth()+1<10?"0"+(h.getMonth()+1):h.getMonth()+1)+"-",Se=(h.getDate()<10?"0"+h.getDate():h.getDate())+" ";return v+B+Se};return d("div",{className:E.body,children:[d("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between",userSelect:"none"},children:[t(be,{name:e,toggle:L,type:a,isOpen:u,qty:m.length}),d("div",{style:{display:"flex"},children:[t(D,{kind:"minimal",onClick:L,className:S.btn,title:"Toggle collapsible section",children:t("span",{className:w(S.arrow,{[S.isOpen]:u}),children:t(fe,{size:20})})}),t(D,{kind:"minimal",start:t(le,{}),onClick:_}),t(D,{kind:"minimal",start:t(R,{size:16}),onClick:P,isLoading:x})]})]}),d("div",{className:E.updatedAt,children:[c&&d("small",{children:[T," / ",A," ( ",p,"% )    Expire: ",b()," "]}),t("br",{}),d("small",{children:["Updated ",k," ago"]})]}),d(q,{isOpen:u,children:[t(ke,{all:m}),d("div",{className:E.actionFooter,children:[t(D,{text:"Update",start:t(le,{}),onClick:_}),t(D,{text:"Health Check",start:t(R,{size:16}),onClick:P,isLoading:x})]})]}),t(q,{isOpen:!u,children:t(Pe,{all:m})})]})}const xo={rest:{scale:1},pressed:{scale:.95}},Co={rest:{rotate:0},hover:{rotate:360,transition:{duration:.3}}};function ae(e,o=2){if(!+e)return"0 Bytes";const n=1024,r=o<0?0:o,s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(n));return`${parseFloat((e/Math.pow(n,a)).toFixed(r))} ${s[a]}`}function le(){const o=ue.read().motion;return t(o.div,{className:E.refresh,variants:xo,initial:"rest",whileHover:"hover",whileTap:"pressed",children:t(o.div,{className:"flexCenter",variants:Co,children:t(ot,{size:16})})})}const wo=(e,{proxies:o,name:n})=>{const r=ee(e),s=V(e),a=ye(e),l=X(e),c=J(e);return{apiConfig:l,proxies:o,delay:s,hideUnavailableProxies:r,proxySortBy:c,isOpen:a[`proxyProvider:${n}`]}},ko=z(wo)(vo),Po="_labeledInput_cmki0_1",U={labeledInput:Po},No=[["Natural","order_natural"],["LatencyAsc","order_latency_asc"],["LatencyDesc","order_latency_desc"],["NameAsc","order_name_asc"],["NameDesc","order_name_desc"]],{useCallback:ce}=F;function So({appConfig:e}){const{app:{updateAppConfig:o}}=j(),n=ce(a=>{o("proxySortBy",a.target.value)},[o]),r=ce(a=>{o("hideUnavailableProxies",a)},[o]),{t:s}=te();return d(Q,{children:[d("div",{className:U.labeledInput,children:[t("span",{children:s("sort_in_grp")}),t("div",{children:t(nt,{options:No.map(a=>[a[0],s(a[1])]),selected:e.proxySortBy,onChange:n})})]}),t("hr",{}),d("div",{className:U.labeledInput,children:[t("span",{children:s("hide_unavail_proxies")}),t("div",{children:t(G,{name:"hideUnavailableProxies",checked:e.hideUnavailableProxies,onChange:r})})]}),d("div",{className:U.labeledInput,children:[t("span",{children:s("auto_close_conns")}),t("div",{children:t(G,{name:"autoCloseOldConns",checked:e.autoCloseOldConns,onChange:a=>o("autoCloseOldConns",a)})})]}),d("div",{className:U.labeledInput,children:[t("span",{children:s("double_column_layout")}),t("div",{children:t(G,{name:"proxiesLayout",checked:e.proxiesLayout==="double",onChange:a=>o("proxiesLayout",a?"double":"single")})})]})]})}const Do=e=>{const o=J(e),n=ee(e),r=He(e),s=_e(e);return{appConfig:{proxySortBy:o,hideUnavailableProxies:n,autoCloseOldConns:r,proxiesLayout:s}}},Lo=z(Do)(So);function To({color:e="currentColor",size:o=24}){return d("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:o,height:o,stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t("path",{d:"M2 6h9M18.5 6H22"}),t("circle",{cx:"16",cy:"6",r:"2"}),t("path",{d:"M22 18h-9M6 18H2"}),t("circle",{r:"2",transform:"matrix(-1 0 0 1 8 18)"})]})}const Bo="_topBar_zhlud_4",$o="_topBarRight_zhlud_15",Fo="_textFilterContainer_zhlud_23",Ao="_group_zhlud_30",zo="_groupsContainer_zhlud_39",Mo="_doubleColumn_zhlud_39",Ro="_column_zhlud_50",Io="_tabsContainer_zhlud_66",Oo="_tab_zhlud_66",Uo="_active_zhlud_91",Eo="_tabCount_zhlud_97",g={topBar:Bo,topBarRight:$o,textFilterContainer:Fo,group:Ao,groupsContainer:zo,doubleColumn:Mo,column:Ro,tabsContainer:Io,tab:Oo,active:Uo,tabCount:Eo},{useState:ie,useEffect:qo,useCallback:Y,useRef:Ho,useMemo:de}=F;function Ko({dispatch:e,groupNames:o,delay:n,proxyProviders:r,apiConfig:s,showModalClosePrevConns:a,proxiesLayout:l}){const c=Ho({}),u=p=>p<100?""+p:"99+",f=Y(()=>{c.current.startAt=Date.now(),e(Z(s)).then(()=>{c.current.completeAt=Date.now()})},[s,e]);qo(()=>{f();const p=()=>{c.current.startAt&&Date.now()-c.current.startAt>3e4&&f()};return window.addEventListener("focus",p,!1),()=>window.removeEventListener("focus",p,!1)},[f]);const[i,m]=ie(!1),x=Y(()=>{m(!1)},[]),[y,_]=ie("proxies"),P=Y(p=>b=>{(b.key==="Enter"||b.key===" ")&&_(p)},[]),{proxies:{closeModalClosePrevConns:N,closePrevConnsAndTheModal:L}}=j(),{t:k}=te(),A=de(()=>{const p=o.map((v,B)=>({name:v,i:B}));if(l!=="double")return[p];const b=[],h=[];return p.forEach((v,B)=>{B%2===0?b.push(v):h.push(v)}),[b,h]},[o,l]),T=de(()=>{const p=r.map((v,B)=>({item:v,i:B}));if(l!=="double")return[p];const b=[],h=[];return p.forEach((v,B)=>{B%2===0?b.push(v):h.push(v)}),[b,h]},[r,l]);return d(Q,{children:[t(oe,{isOpen:i,onRequestClose:x,children:t(Lo,{})}),t("div",{className:g.topBar,children:d(Ke,{children:[d("div",{className:g.tabsContainer,children:[d("div",{className:w(g.tab,{[g.active]:y==="proxies"}),onClick:()=>_("proxies"),onKeyDown:P("proxies"),role:"button",tabIndex:0,children:[k("Proxies"),t("span",{className:g.tabCount,children:u(o.length)})]}),r.length>0&&d("div",{className:w(g.tab,{[g.active]:y==="providers"}),onClick:()=>_("providers"),onKeyDown:P("providers"),role:"button",tabIndex:0,children:[k("proxy_provider"),t("span",{className:g.tabCount,children:u(r.length)})]})]}),t("div",{style:{flex:1}}),d("div",{className:g.topBarRight,children:[t("div",{className:g.textFilterContainer,children:t(et,{textAtom:pe,placeholder:k("Search")})}),t(je,{label:k("settings"),children:t(D,{kind:"minimal",onClick:()=>m(!0),children:t(To,{size:16})})})]})]})}),y==="proxies"?t("div",{className:w(g.groupsContainer,{[g.doubleColumn]:l==="double"}),children:A.map((p,b)=>t("div",{className:g.column,children:p.map(({name:h,i:v})=>t("div",{className:g.group,style:{order:v},children:t(so,{name:h,delay:n,apiConfig:s,dispatch:e})},h))},b))}):t("div",{className:w(g.groupsContainer,{[g.doubleColumn]:l==="double"}),children:T.map((p,b)=>t("div",{className:g.column,children:p.map(({item:h,i:v})=>t("div",{className:g.group,style:{order:v},children:t(ko,{name:h.name,proxies:h.proxies,type:h.type,vehicleType:h.vehicleType,updatedAt:h.updatedAt,subscriptionInfo:h.subscriptionInfo})},h.name))},b))}),t("div",{style:{height:60}}),t(mo,{dispatch:e,apiConfig:s,proxyProviders:r}),t(oe,{isOpen:a,onRequestClose:N,children:t(ct,{onClickPrimaryButton:()=>L(s),onClickSecondaryButton:N})})]})}const jo=e=>({apiConfig:X(e),groupNames:Ge(e),proxyProviders:We(e),delay:V(e),showModalClosePrevConns:Ye(e),proxiesLayout:_e(e)}),tn=z(jo)(Ko);export{tn as default};
