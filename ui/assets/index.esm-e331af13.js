import{aw as ne,aH as k,r as E,ax as ae}from"./index-41a412db.js";function $(n,e){if(n==null)return{};var r={},i=Object.keys(n),a,l;for(l=0;l<i.length;l++)a=i[l],!(e.indexOf(a)>=0)&&(r[a]=n[a]);return r}var U=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function oe(n,e){return!!(n===e||U(n)&&U(e))}function se(n,e){if(n.length!==e.length)return!1;for(var r=0;r<n.length;r++)if(!oe(n[r],e[r]))return!1;return!0}function N(n,e){e===void 0&&(e=se);var r,i=[],a,l=!1;function c(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return l&&r===this&&e(d,i)||(a=n.apply(this,d),l=!0,r=this,i=d),a}return c}var le=typeof performance=="object"&&typeof performance.now=="function",q=le?function(){return performance.now()}:function(){return Date.now()};function H(n){cancelAnimationFrame(n.id)}function ce(n,e){var r=q();function i(){q()-r>=e?n.call(null):a.id=requestAnimationFrame(i)}var a={id:requestAnimationFrame(i)};return a}var P=-1;function K(n){if(n===void 0&&(n=!1),P===-1||n){var e=document.createElement("div"),r=e.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(e),P=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return P}var C=null;function V(n){if(n===void 0&&(n=!1),C===null||n){var e=document.createElement("div"),r=e.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var i=document.createElement("div"),a=i.style;return a.width="100px",a.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?C="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?C="negative":C="positive-ascending"),document.body.removeChild(e),C}return C}var ue=150,de=function(e,r){return e};function G(n){var e,r=n.getItemOffset,i=n.getEstimatedTotalSize,a=n.getItemSize,l=n.getOffsetForIndexAndAlignment,c=n.getStartIndexForOffset,d=n.getStopIndexForStartIndex,p=n.initInstanceProps,y=n.shouldResetStyleCacheOnItemSizeChange,S=n.validateProps;return e=function(x){ne(M,x);function M(v){var t;return t=x.call(this,v)||this,t._instanceProps=p(t.props,k(t)),t._outerRef=void 0,t._resetIsScrollingTimeoutId=null,t.state={instance:k(t),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof t.props.initialScrollOffset=="number"?t.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},t._callOnItemsRendered=void 0,t._callOnItemsRendered=N(function(o,s,u,m){return t.props.onItemsRendered({overscanStartIndex:o,overscanStopIndex:s,visibleStartIndex:u,visibleStopIndex:m})}),t._callOnScroll=void 0,t._callOnScroll=N(function(o,s,u){return t.props.onScroll({scrollDirection:o,scrollOffset:s,scrollUpdateWasRequested:u})}),t._getItemStyle=void 0,t._getItemStyle=function(o){var s=t.props,u=s.direction,m=s.itemSize,g=s.layout,f=t._getItemStyleCache(y&&m,y&&g,y&&u),h;if(f.hasOwnProperty(o))h=f[o];else{var z=r(t.props,o,t._instanceProps),O=a(t.props,o,t._instanceProps),T=u==="horizontal"||g==="horizontal",b=u==="rtl",R=T?z:0;f[o]=h={position:"absolute",left:b?void 0:R,right:b?R:void 0,top:T?0:z,height:T?"100%":O,width:T?O:"100%"}}return h},t._getItemStyleCache=void 0,t._getItemStyleCache=N(function(o,s,u){return{}}),t._onScrollHorizontal=function(o){var s=o.currentTarget,u=s.clientWidth,m=s.scrollLeft,g=s.scrollWidth;t.setState(function(f){if(f.scrollOffset===m)return null;var h=t.props.direction,z=m;if(h==="rtl")switch(V()){case"negative":z=-m;break;case"positive-descending":z=g-u-m;break}return z=Math.max(0,Math.min(z,g-u)),{isScrolling:!0,scrollDirection:f.scrollOffset<z?"forward":"backward",scrollOffset:z,scrollUpdateWasRequested:!1}},t._resetIsScrollingDebounced)},t._onScrollVertical=function(o){var s=o.currentTarget,u=s.clientHeight,m=s.scrollHeight,g=s.scrollTop;t.setState(function(f){if(f.scrollOffset===g)return null;var h=Math.max(0,Math.min(g,m-u));return{isScrolling:!0,scrollDirection:f.scrollOffset<h?"forward":"backward",scrollOffset:h,scrollUpdateWasRequested:!1}},t._resetIsScrollingDebounced)},t._outerRefSetter=function(o){var s=t.props.outerRef;t._outerRef=o,typeof s=="function"?s(o):s!=null&&typeof s=="object"&&s.hasOwnProperty("current")&&(s.current=o)},t._resetIsScrollingDebounced=function(){t._resetIsScrollingTimeoutId!==null&&H(t._resetIsScrollingTimeoutId),t._resetIsScrollingTimeoutId=ce(t._resetIsScrolling,ue)},t._resetIsScrolling=function(){t._resetIsScrollingTimeoutId=null,t.setState({isScrolling:!1},function(){t._getItemStyleCache(-1,null)})},t}M.getDerivedStateFromProps=function(t,o){return fe(t,o),S(t),null};var I=M.prototype;return I.scrollTo=function(t){t=Math.max(0,t),this.setState(function(o){return o.scrollOffset===t?null:{scrollDirection:o.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},I.scrollToItem=function(t,o){o===void 0&&(o="auto");var s=this.props,u=s.itemCount,m=s.layout,g=this.state.scrollOffset;t=Math.max(0,Math.min(t,u-1));var f=0;if(this._outerRef){var h=this._outerRef;m==="vertical"?f=h.scrollWidth>h.clientWidth?K():0:f=h.scrollHeight>h.clientHeight?K():0}this.scrollTo(l(this.props,t,o,g,this._instanceProps,f))},I.componentDidMount=function(){var t=this.props,o=t.direction,s=t.initialScrollOffset,u=t.layout;if(typeof s=="number"&&this._outerRef!=null){var m=this._outerRef;o==="horizontal"||u==="horizontal"?m.scrollLeft=s:m.scrollTop=s}this._callPropsCallbacks()},I.componentDidUpdate=function(){var t=this.props,o=t.direction,s=t.layout,u=this.state,m=u.scrollOffset,g=u.scrollUpdateWasRequested;if(g&&this._outerRef!=null){var f=this._outerRef;if(o==="horizontal"||s==="horizontal")if(o==="rtl")switch(V()){case"negative":f.scrollLeft=-m;break;case"positive-ascending":f.scrollLeft=m;break;default:var h=f.clientWidth,z=f.scrollWidth;f.scrollLeft=z-h-m;break}else f.scrollLeft=m;else f.scrollTop=m}this._callPropsCallbacks()},I.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&H(this._resetIsScrollingTimeoutId)},I.render=function(){var t=this.props,o=t.children,s=t.className,u=t.direction,m=t.height,g=t.innerRef,f=t.innerElementType,h=t.innerTagName,z=t.itemCount,O=t.itemData,T=t.itemKey,b=T===void 0?de:T,R=t.layout,J=t.outerElementType,Q=t.outerTagName,X=t.style,Y=t.useIsScrolling,ee=t.width,L=this.state.isScrolling,F=u==="horizontal"||R==="horizontal",te=F?this._onScrollHorizontal:this._onScrollVertical,W=this._getRangeToRender(),re=W[0],ie=W[1],A=[];if(z>0)for(var w=re;w<=ie;w++)A.push(E.createElement(o,{data:O,key:b(w,O),index:w,isScrolling:Y?L:void 0,style:this._getItemStyle(w)}));var D=i(this.props,this._instanceProps);return E.createElement(J||Q||"div",{className:s,onScroll:te,ref:this._outerRefSetter,style:ae({position:"relative",height:m,width:ee,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:u},X)},E.createElement(f||h||"div",{children:A,ref:g,style:{height:F?"100%":D,pointerEvents:L?"none":void 0,width:F?D:"100%"}}))},I._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var t=this.props.itemCount;if(t>0){var o=this._getRangeToRender(),s=o[0],u=o[1],m=o[2],g=o[3];this._callOnItemsRendered(s,u,m,g)}}if(typeof this.props.onScroll=="function"){var f=this.state,h=f.scrollDirection,z=f.scrollOffset,O=f.scrollUpdateWasRequested;this._callOnScroll(h,z,O)}},I._getRangeToRender=function(){var t=this.props,o=t.itemCount,s=t.overscanCount,u=this.state,m=u.isScrolling,g=u.scrollDirection,f=u.scrollOffset;if(o===0)return[0,0,0,0];var h=c(this.props,f,this._instanceProps),z=d(this.props,h,f,this._instanceProps),O=!m||g==="backward"?Math.max(1,s):1,T=!m||g==="forward"?Math.max(1,s):1;return[Math.max(0,h-O),Math.max(0,Math.min(o-1,z+T)),h,z]},M}(E.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var fe=function(e,r){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,r.instance},me=50,_=function(e,r,i){var a=e,l=a.itemSize,c=i.itemMetadataMap,d=i.lastMeasuredIndex;if(r>d){var p=0;if(d>=0){var y=c[d];p=y.offset+y.size}for(var S=d+1;S<=r;S++){var x=l(S);c[S]={offset:p,size:x},p+=x}i.lastMeasuredIndex=r}return c[r]},he=function(e,r,i){var a=r.itemMetadataMap,l=r.lastMeasuredIndex,c=l>0?a[l].offset:0;return c>=i?Z(e,r,l,0,i):ve(e,r,Math.max(0,l),i)},Z=function(e,r,i,a,l){for(;a<=i;){var c=a+Math.floor((i-a)/2),d=_(e,c,r).offset;if(d===l)return c;d<l?a=c+1:d>l&&(i=c-1)}return a>0?a-1:0},ve=function(e,r,i,a){for(var l=e.itemCount,c=1;i<l&&_(e,i,r).offset<a;)i+=c,c*=2;return Z(e,r,Math.min(i,l-1),Math.floor(i/2),a)},j=function(e,r){var i=e.itemCount,a=r.itemMetadataMap,l=r.estimatedItemSize,c=r.lastMeasuredIndex,d=0;if(c>=i&&(c=i-1),c>=0){var p=a[c];d=p.offset+p.size}var y=i-c-1,S=y*l;return d+S},Ie=G({getItemOffset:function(e,r,i){return _(e,r,i).offset},getItemSize:function(e,r,i){return i.itemMetadataMap[r].size},getEstimatedTotalSize:j,getOffsetForIndexAndAlignment:function(e,r,i,a,l,c){var d=e.direction,p=e.height,y=e.layout,S=e.width,x=d==="horizontal"||y==="horizontal",M=x?S:p,I=_(e,r,l),v=j(e,l),t=Math.max(0,Math.min(v-M,I.offset)),o=Math.max(0,I.offset-M+I.size+c);switch(i==="smart"&&(a>=o-M&&a<=t+M?i="auto":i="center"),i){case"start":return t;case"end":return o;case"center":return Math.round(o+(t-o)/2);case"auto":default:return a>=o&&a<=t?a:a<o?o:t}},getStartIndexForOffset:function(e,r,i){return he(e,i,r)},getStopIndexForStartIndex:function(e,r,i,a){for(var l=e.direction,c=e.height,d=e.itemCount,p=e.layout,y=e.width,S=l==="horizontal"||p==="horizontal",x=S?y:c,M=_(e,r,a),I=i+x,v=M.offset+M.size,t=r;t<d-1&&v<I;)t++,v+=_(e,t,a).size;return t},initInstanceProps:function(e,r){var i=e,a=i.estimatedItemSize,l={itemMetadataMap:{},estimatedItemSize:a||me,lastMeasuredIndex:-1};return r.resetAfterIndex=function(c,d){d===void 0&&(d=!0),l.lastMeasuredIndex=Math.min(l.lastMeasuredIndex,c-1),r._getItemStyleCache(-1),d&&r.forceUpdate()},l},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),ze=G({getItemOffset:function(e,r){var i=e.itemSize;return r*i},getItemSize:function(e,r){var i=e.itemSize;return i},getEstimatedTotalSize:function(e){var r=e.itemCount,i=e.itemSize;return i*r},getOffsetForIndexAndAlignment:function(e,r,i,a,l,c){var d=e.direction,p=e.height,y=e.itemCount,S=e.itemSize,x=e.layout,M=e.width,I=d==="horizontal"||x==="horizontal",v=I?M:p,t=Math.max(0,y*S-v),o=Math.min(t,r*S),s=Math.max(0,r*S-v+S+c);switch(i==="smart"&&(a>=s-v&&a<=o+v?i="auto":i="center"),i){case"start":return o;case"end":return s;case"center":{var u=Math.round(s+(o-s)/2);return u<Math.ceil(v/2)?0:u>t+Math.floor(v/2)?t:u}case"auto":default:return a>=s&&a<=o?a:a<s?s:o}},getStartIndexForOffset:function(e,r){var i=e.itemCount,a=e.itemSize;return Math.max(0,Math.min(i-1,Math.floor(r/a)))},getStopIndexForStartIndex:function(e,r,i){var a=e.direction,l=e.height,c=e.itemCount,d=e.itemSize,p=e.layout,y=e.width,S=a==="horizontal"||p==="horizontal",x=r*d,M=S?y:l,I=Math.ceil((M+i-x)/d);return Math.max(0,Math.min(c-1,r+I-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function B(n,e){for(var r in n)if(!(r in e))return!0;for(var i in e)if(n[i]!==e[i])return!0;return!1}var pe=["style"],Se=["style"];function ye(n,e){var r=n.style,i=$(n,pe),a=e.style,l=$(e,Se);return!B(r,a)&&!B(i,l)}export{ze as F,Ie as V,ye as a};
